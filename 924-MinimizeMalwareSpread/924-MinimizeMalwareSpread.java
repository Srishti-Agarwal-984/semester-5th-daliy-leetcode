// Last updated: 12/24/2025, 9:09:03 PM
1class Solution {
2    public int minMalwareSpread(int[][] graph, int[] initial) {
3        if(initial.length==1){
4            return initial[0];
5        }
6        HashSet<Integer> st = new HashSet<>();
7        for(int i: initial){
8            st.add(i);
9        }
10        HashMap<Integer, HashSet<Integer>> map  = new HashMap<>();
11        for(int i=0; i<graph.length; i++){
12            map.put(i, new HashSet<>());
13        }
14        
15        for(int i=0; i<graph.length; i++){
16            for(int j=0; j<graph[i].length; j++){
17                if(graph[i][j]==0){
18                    continue;
19                }
20                map.get(i).add(j);
21            }
22        }
23        int e = graph.length;
24        int idx=graph.length;
25        HashMap<Integer, Integer> m = new HashMap<>();
26        for(int i: st){
27            HashSet<Integer> infected = new HashSet<>();
28            for(int j:st){
29                if(i!=j){
30                    HashSet<Integer> vi = new HashSet<>();
31                    Queue<Integer> q = new LinkedList<>();
32                    q.add(j);
33                    while(!q.isEmpty()){
34                        int r = q.poll();
35                        if(vi.contains(r)){
36                            continue;
37                        }
38                        vi.add(r);
39                        infected.add(r);
40                        for(int nbrs: map.get(r)){
41                            if(!vi.contains(nbrs)){
42                                q.add(nbrs);
43                            }
44                        }
45                    }
46                }
47            }
48            //System.out.println(i+" "+infected.size());
49            //m.put(i, infected.size());
50            if(e>=infected.size()){
51                //System.out.println(idx+" "+infected.size());
52                if(e==infected.size() && idx>i){
53                    idx=i; 
54                }
55                if(e>infected.size()){
56                    idx=i;
57                }
58                e = infected.size();
59                //idx=i;
60            }
61        }
62        return idx;
63        
64    }
65}